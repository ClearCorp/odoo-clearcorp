<?xml version="1.0" encoding="UTF-8"?>

<openerp>
    <data>
        <!-- VIEWS -->
        <!-- configuration views -->
        <!-- configuration_form_view -->
        <record model="ir.ui.view" id="personnel_actions_configuration_form_view">
            <field name="name">personnel_actions.configuration.form.view</field>
            <field name="model">hr.personnel.actions.configuration</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <form string="Personnel Actions Configuration" version="7.0">
                <header>
                </header>
                <sheet>
                    <group colspan="2" col="2">
	                    <field name="key"/>
	                    <field name="action_type_id"/>
                    </group>
                </sheet>
                </form>
            </field>
        </record>
        
        <!-- configuration_tree_view -->
        <record model="ir.ui.view" id="personnel_actions_configuration_tree_view">
            <field name="name">personnel.actions.configuration.tree.view</field>
            <field name="model">hr.personnel.actions.configuration</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <tree string="Personnel Actions Configuration">
                    <field name="key"/>
                    <field name="action_type_id"/>
                </tree>
            </field>
        </record>
        
        <!-- personnel_action views -->
        <!-- personnel_action_form_view -->
        <record model="ir.ui.view" id="personnel_actions_personnel_action_form_view">
            <field name="name">personnel.actions.personnel.action.form.view</field>
            <field name="model">hr.personnel.actions.personnel.action</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <form string="Personnel Actions" version="7.0">
                <header>
                    <button name="action_approved" states="draft" string="Approve" type="object" groups="base.group_hr_user" class="oe_highlight"/>
                    <button name="action_cancel" states="approved" string="Cancel" type="object" groups="base.group_hr_user"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,approved,cancelled"/>
                </header>
                <sheet>
                    <label for="title" class="oe_edit_only" string="Title" />
                    <h1><field name="title" placeholder="Title..." colspan="4"/></h1>
                    <separator/>
                    <separator string="General Information"/>
                    <group>
                        <group>
                            <field name="employee_id"/>
                            <field name="sequence" placeholder="autogenerated sequence"/>
                        </group>
                        <group>
                            <field name="type_id"/>
                            <field name="date"/>
                        </group>
                        <separator string="Description"/>
                        <field name="description" colspan="4" nolabel="1"/>
                    </group>
                </sheet>
                </form>
            </field>
        </record>
        
        <!-- personnel_action_tree_view -->
        <record model="ir.ui.view" id="personnel_actions_personnel_action_tree_view">
            <field name="name">personnel.actions.personnel.action.tree.view</field>
            <field name="model">hr.personnel.actions.personnel.action</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <tree string="Personnel Actions">
                    <field name="sequence"/>
                    <field name="employee_id"/>
                    <field name="type_id"/>
                    <field name="date"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        
        <!-- personnel_action_search_view -->
        <record model="ir.ui.view" id="personnel_actions_personnel_action_search_view">
            <field name="name">personnel.actions.personnel.action.search.view</field>
            <field name="model">hr.personnel.actions.personnel.action</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <search string="Personnel Actions">
                    <field name="employee_id" string="Employee"/>
                    <field name="type_id" string="Action Type"/>
                    <separator/>
                    <group expand="0" string="Group by...">
                        <filter string="Employee" icon="terp-go-month" domain="[]" context="{'group_by':'employee_id'}"/>
                        <filter string="Date" icon="terp-go-month" domain="[]" context="{'group_by':'date'}"/>
                        <filter string="Action Type" icon="terp-go-month" domain="[]" context="{'group_by':'type_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- personnel_action views -->
        <!-- personnel_action_form_view -->
        <record model="ir.ui.view" id="personnel_actions_hr_employee_form_view">
            <field name="name">personnel.actions.hr.employee.form.view</field>
            <field name="model">hr.employee</field>
            <field name="priority" eval="16"/>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@string='HR Settings']" position="after">
                    <page string="Personnel Actions">
                        <group string="Personnel Actions" name="personnel_actions_group">
                            <field name="personnel_action_ids" nolabel="1"/>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
        
        <!-- ACTIONS -->
        <!-- action_module_config -->
        <record model="ir.actions.act_window" id="action_module_config">
            <field name="name">Personnel Actions Configuration</field>
            <field name="res_model">hr.personnel.actions.configuration</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Create new personnel configuration</p>
            </field>
        </record>
        
        <!-- action_action_type -->
        <record model="ir.actions.act_window" id="action_action_type">
            <field name="name">Personnel Action Types</field>
            <field name="res_model">hr.personnel.actions.type</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Create new personnel action type</p>
            </field>
        </record>
        
        <!-- action_personnel_action -->
        <record model="ir.actions.act_window" id="action_personnel_action">
            <field name="name">Personnel Actions</field>
            <field name="res_model">hr.personnel.actions.personnel.action</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Create new personnel action</p>
            </field>
        </record>
    </data>
</openerp>
